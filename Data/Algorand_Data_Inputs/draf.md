algorand和beacon chain两者都采用的基于PoS的共识协议实现共识过程。在一般的权益证明（PoS）系统中，每个用户将按照他们持有的通证（权益）或授予他们的权益来参与事务。两者一个共同点是，通过从参与者（权益持有者）中随机选择一个领导者，然后由该领导者将一个区块添加到区块链中。通常情况下，领导者的选举过程是公开透明的，其对所有参与者都是可见的。[cite]然而，algorand与beacon chain在领导者选择的过程中却存在不同：algorand在选择过程中，使用VRF函数利用参与者的信息和有效余额计算对应的凭证，并通过随机重排挑选一个领导者，该过程中，所有账户都能够进行计算判断自己是否能够成为领导者；beacon chain则采用激活的机制，账户会通过存款合约向固定的存款地址进行转账，实现货币抵押，当抵押的货币到达一定数额时，对应的账户将激活成为参与者从而进行领导者的选举。algorand与beacon chain在共识过程中所采用的不同机制将会对区块链的性能带来不同影响。

由于实现方式的不同，Algorand和Beacon Chain的运行性能存在差异。依据目前不同的区块链社区发展情况，我们能够总结出区块链在运行过程中需要关注的七个共同特点[cite WIP]，分别是隐私与安全、可延展性、去中心化、可适用性、管理与规范、系统设计、跨链互操作性。那么在algorand和beacon chain的对比分析中，我们主要关注两者在隐私安全、可延展性、去中心化三个方面的差异。因为共识过程中通常和区块链上的交易过程紧密相关，在此过程中节点们需要对交易的相关信息达成一致，那么在不同的设计实现下，共识过程将会影响区块链的隐私与安全性、可延展性以及去中心化程度[cite sok:consensus]。

Definition：

为了使



此外，由于实现方式的不同，在安全性上两者也存在性能表现上的差异。beacon chain通过代币抵押的方式限制攻击者的攻击行为。在验证者被选中和验证过程中，beacon chain 通过代币质押的数量来确定权重并进行随机选择。这种随机性和分散性使得攻击者很难通过预测的方式来推断下一个区块的生产者。同时，beacon chain引入了一系列的惩罚机制来防止恶意行为的发生。如果验证者在验证过程中违反了共识协议中定义的规则，例如双重投票或双重签名，那么他们质押的代币将会收到惩罚甚至是罚没。与beacon chain不同，algorand通过随机函数VRF实现随机选择，在选择过程中algorand将凭证制作所需的种子集与交易集进行独立，使得攻击者很难通过交易数据来推断下一个区块的生产者和验证者。同时，algorand从协议机制层面完全消除了分叉的机会[cite]，避免了攻击者通过在分叉连上进行计算从而增加自己成为验证者的概率的情况。

综上，虽然algorand和beacon chain在共识过程中都采用了PoS的思想，但是在具体实现过程中两者所采用的方式不同导致区块链网络在实际运行过程中存在性能上的差异。总的来说，algorand和beacon chain的性能差异能够归纳为：

在本节中，我们结合公开的数据，对algorand和beacon chain在共识过程中的性能表现做一个对比分析。

依据目前的不同区块链发展情况，我们能够总结出区块链所面临的七个公有特点[cite WIP]：分别是隐私与安全、可延展性、去中心化、可适用性、管理与规范、跨链互操作性。

Algorand与Beacon Chain的共识思想都是基于PoS（Proof of Staking）





Saca：

我们在图中展示了algorand和beacon chain日交易量数据图。从日交易量数据来看，algorand的平均每日交易达到756345笔，而beacon chain在上线运行后日均交易量达到910748笔，高于algroand的日均交易。但是仅从日均交易数据来看，并不能表明algorand的交易吞吐量小于beacon chain，因为两者上线时间并不相同。然而，在极限情况下，能够看出algorand的最大交易量是单日9271981笔，而beacon chain的最大交易量为单日1582235笔，由此不难看出algorand在面临极端情况下能够支持更大的交易吞吐量。

为了进一步探究algorand与beacon chain之间可延展性的差别，我们同时收集了交易过程中消耗的Fee数据（每日）。algorand每日交易过程中平均消耗约947个ALGO，而beacon chain日均消耗约3000个ETH。虽然beacon chain日均交易量高于algorand，但是从日均交易量的增长比率来看，beacon chain在处理每一笔交易过程中所消耗的代币数量仍高于algorand。更低的交易Fee实际上有助于促进单个用户进行频繁交易，因为当费用较高时，用户可能会由于是否进行频繁交易或小额交易；另外，更低的交易Fee促进了用户整体的参与度，这意味着即使是部分资源有限的用户也可能参与到交易中。

综上所述，通过日交易量数据和交易Fee数据我们能够看出，algorand相比于目前的beacon chain具有更好的可拓展性。侧面证明，algorand更加适合小额、高频交易，例如游戏、微支付等场景，因为其能够支持更高的交易吞吐量并且消耗更少的代币作为Fee。

Decen： 

衡量一个区块链去中心化水平通常考虑：节点分布、共识算法权利分配方式等。我们收集了algorand和beacon chain链上proposer数据对共识过程中管理情况进行分析。具体结果在图2中展示。图2.a展示了beacon chain的区块数量和proposer数量变化，从其中能够看出beacon chain在上线运行时，区块数量和proposer的数量相近。由此能够得出beacon chain在共识过程中能够从一定程度上保证区块提出者的随机性。

然而在图2.b中，algorand的proposer数量却呈现了不规则变化，并且能够看出algorand的proposer数量远小于beacon chain上线后的数量。结合algorand日均交易量较大的情况来看，algorand在上线运行时proposer呈现一种不均匀分布。其原因在于，algorand用户基数本身并没有beacon chain大，导致proposer选择范围较小；同时algorand在设计过程中遵循了"HMM"假设，该假设认为拥有代币数量越大的账户更倾向于维护社区，那么存在代币持有量较高的账户会在不同轮次的共识过程中被选择为proposer。上述原因导致algorand的proposer数量与规模并不如beacon chain一般呈现较为均匀的分布。

故，从区块数量和proposer的对比情况来看，beacon chain的去中心化程度优于algorand。

security：

algorand和beacon chain虽然都是以PoS机制为基础设计共识协议，但是两者在引入货币余额的手段却不同。beacon chain采用货币质押的方式，要求验证组成员通过转账合约向以太坊1.0中的转账账户转入一定量的以太币作为质押；algorand并没有要求验证组成员进行货币质押，而是在选择验证组成员过程中引入候选者的合法余额数，当候选者所持有的货币数量越大，成为验证组成员的概率将会越大。beacon chain通过货币质押的方式，指定了针对恶意行为的惩罚规则。当链上的验证者在投票过程中出现违规行为时，将会根据惩罚规则对其质押的货币进行对应的扣除或罚没。通过这种方式，beacon chain能够增加恶意攻击的行为代价，从根源上减少攻击行为的发生。然而algorand在设计过程中并没有针对恶意行为设定相关的惩罚方式，其更多的是依靠共识过程中随机化选择等手段从协议机制上防止恶意行为的发生。我们以algorand中的随机数种子Q为例对algorand的安全性机制进行举例分析。algorand为了避免攻击者通过伪造交易集来实施预测攻击，在生成用户credential的过程中，引入了一个与交易集无关的随机数种子Q。随机数种子Q将会在每轮共识协议过程中根据情况进行对应的更新，以进一步实现随机化。

因此，我们很难从现有的数据上对beacon chain和algorand的安全性进行对比分析。但是从社区规模和交易量来看，beacon chain相比于algorand能够提供更加可靠的交易环境，这是因为beacon chain的交易规模大于algorand，同时beacon chain的用户规模也大于algorand。然而对于两者安全性上的对比，我们将在模拟实验中进行进一步测试。

algorand和beacon chain使用了不同的手段来维护链上的安全性。beacon chain首先通过随机化选举保证了每一轮共识过程中委员会成员和区块提出者的随机性。在选举proposer的过程中，beacon chain在从候选列表中选择的过程中，引入了账户有效余额，通过判断账户有效余额和初始化过程中设置的标准阈值之间的大小关系来决定proposer的人选。因此，beacon chain在选举和投票过程中以引入账户余额的方式来控制恶意用户的行为。然而，beacon chain除此之外，还针对恶意行为指定了对应的惩罚与罚没的规则。由于在beacon chain上成为激活的验证者需要通过存款合约向以太坊1.0中的存款账户进行转账实现代币质押，当验证者出现违规行为时，其质押的代币将根据对应的规则对违规者的质押账户中进行代币扣除或罚没。





![Beacon Chain](../../../../md_images/Beacon%20Chain.png)



![algorand_proposer](../../../../md_images/algorand_proposer.png)



![image-20230525155206880](../../../../md_images/image-20230525155206880.png)





为了更好的探寻algorand和beacon chain在共识过程中的性能差异与特点，我们在本地VM上部署了对应的测试代码进行测试。我们将对共识过程中的相关数据进行记录分析，包含出块时间、交易量等以探讨algorand和beacon chain的性能特点。但是，除了algorand与beacon chain之间的对比分析外，我们深入的探讨了实验数据与实际数据之间的符合程度。我们希望通过这种方式对algorand和beacon chain在性能表现上进行更加深入的分析与讨论。

Implementation：

我们根据文章1和文章2在本地VMs设备上分别模拟了algorand共识过程和beacon chain共识过程。其中，VMs所存在的本地设备的硬件能力是相同的，并且我们默认每个VMs的计算能力和计算资源是相同，以实现在相同的条件下对共识过程进行性能分析。然而，一个值得注意的情况是，beacon chain和algorand在设计过程中所采用的编程语言并不相同（beacon chain所使用的是python，algorand所使用的是go-lang），故为了更加贴合实际运行情况，我们选择采用对应的编程语言进行模拟测试。然而对于由编程语言上所带来的编译效率的不同，在此我们认为两者相差并不影响最终共识过程的性能表现。

在algorand共识过程中每个用户主要完成committee的选举、proposer的选择、block的打包以及对应的投票过程。而在beacon chain共识过程中，我们默认所有参与的验证者已经完成了代币质押的过程且处于激活状态，除此之外，在每一个slot中将完成committe的选举、proposer的选择、block的打包以及对应的投票过程。在模拟过程中，一个显著的差异出现在block完成共识过程后的reward和penalty的计算。对于algorand，由于本身在设计过程中没有涉及到明确的reward和penalty计算方法，我们根据目前algorand的均块奖励，将reward设定为0.2个代币；对于beacon chain，我们主要针对例如双重投票的恶意行为进行对应的penalty的计算，同时reward则分为参与共识的奖励和区块提出的对应奖励。

Evaluation：

我们的evaluation主要回答了以下方面的问题：

- 共识过程中交易确认和出块时间，以及其随着用户数量增长将会如何变化
- 共识过程中proposer的数量随着用户数量增长将会如何变化
- 共识过程能够处理的交易数据规模随着用户数量增长将会如何变化
- 在恶意行为发生时，共识过程的表现将会受到什么样的影响





bacteria（base line）：

在模拟实验过程中，我们主要观察algorand和beacon chain



雷达图：

根据上述的分析，我们在此根据目前实际数据对algorand和beacon chain的特性做一个简单对比。图3展示了algorand与beacon chain在各项能力上的特点。从图中我们能够对algorand和beacon chain两者进行特性的总结。首先，我们从数据分析过程中能够发现beacon chain的去中心化能力在运行过程中表现优于algorand，这是因为beacon chain的proposer分布更加均匀，而algorand的验证者规模较小，相较beacon chain分布较为集中。其次，对于可延展性，我们从交易吞吐量能够看出，algorand在极端情况下的交易处理能力优于beacon chain，侧面证明algorand对于交易处理的能力更高，有利于节点的延展。除此之外，从交易所需的Fee来看，algorand所需的Fee远低于beacon chain在交易过程中消耗的代币数量，这种特性对于链的延展也有较大的帮助。然而，对于algorand和beacon chain之间的安全性比较，由于缺少相关数据，在此我们只能够从其他指标进行一个初步推断。根据市场规模（Marketing）和交易数据量等来看，beacon chain为交易者提供了一个更加可靠的区块链环境，拥有一套完整的惩罚机制与投票机制。而algorand在设计过程中从共识机制上对恶意行为进行一定程度上的防控，但是在实际运行过程中缺少实际的惩罚措施。



![image-20230525165729352](../../../../md_images/image-20230525165729352.png)

![image-20230525165748227](../../../../md_images/image-20230525165748227.png)

![image-20230525165808005](../../../../md_images/image-20230525165808005.png)



区块链作为一种去中心化的AI，其拥有